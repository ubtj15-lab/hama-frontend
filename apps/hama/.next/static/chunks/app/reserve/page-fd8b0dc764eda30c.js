(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{3885:function(e,t,n){Promise.resolve().then(n.bind(n,3808))},1342:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let o="hama_session_id";function r(){try{let r=window.localStorage.getItem(o);if(!r){var e,t,n;r=null!==(n=null===(e=(t=crypto).randomUUID)||void 0===e?void 0:e.call(t))&&void 0!==n?n:"sess_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,10)),window.localStorage.setItem(o,r)}return r}catch(e){return""}}},5099:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var o=n(1342);function r(){try{let e=window.localStorage.getItem("hamaLoggedIn");if("1"===e){let e=window.localStorage.getItem("hamaUser");if(e){let t=JSON.parse(e),n=null==t?void 0:t.user_id;if(n)return"user_".concat(n)}}return"session_".concat((0,o.Z)())}catch(e){return"session_".concat((0,o.Z)())}}},2643:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var o=n(5099),r=n(1342);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{window.__HAMA_LOGS__=window.__HAMA_LOGS__||[],window.__HAMA_LOGS__.push({event:e,payload:t,ts:Date.now()});let n=(0,o.n)(),i=(0,r.Z)(),s=n.startsWith("user_");fetch("/api/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s?n:null,session_id:i||"unknown",type:e,data:t})}).catch(()=>{})}catch(e){}}},3808:function(e,t,n){"use strict";n.d(t,{default:function(){return f}});var o=n(7573),r=n(7653),i=n(8146),s=n(1695);function a(e){return"string"==typeof e?e.trim():""}var l=n(2643);let d=[{label:"오늘",value:"오늘"},{label:"내일",value:"내일"},{label:"모레",value:"모레"}],c=["11:00","12:00","13:00","14:00","17:00","18:00","19:00","20:00"];function f(){var e,t;let n=(0,s.useSearchParams)(),f=n.get("name")||n.get("q")||"",u=null!==(e=n.get("storeId"))&&void 0!==e?e:"",h=null!==(t=n.get("naverPlaceId"))&&void 0!==t?t:"",[g,m]=(0,r.useState)(1),[p,y]=(0,r.useState)(""),[x,v]=(0,r.useState)("");if((0,r.useEffect)(()=>{(f||u)&&(0,l.K)("reserve_flow_start",{store_id:u,name:f,page:"reserve"})},[f,u]),!f&&!u)return(0,o.jsx)("main",{style:{minHeight:"100vh",padding:24,fontFamily:"Noto Sans KR, system-ui, sans-serif",background:"linear-gradient(180deg, #F8FAFC 0%, #EEF2FF 100%)"},children:(0,o.jsxs)("div",{style:{maxWidth:400,margin:"0 auto"},children:[(0,o.jsx)(i.default,{href:"/",style:{display:"inline-block",marginBottom:24,fontSize:14,color:"#2563eb",textDecoration:"none",fontWeight:600},children:"← 홈으로"}),(0,o.jsx)("div",{style:{padding:24,background:"#fff",borderRadius:16,boxShadow:"0 4px 16px rgba(15,23,42,0.08)",color:"#64748b",fontSize:14},children:'매장 정보가 없어요. 홈에서 카드를 눌러 "예약\xb7자세히"로 들어와 주세요.'})]})});let b={padding:20,background:"#ffffff",borderRadius:16,boxShadow:"0 4px 16px rgba(15,23,42,0.08)",marginBottom:16},S={display:"block",width:"100%",padding:"14px 20px",borderRadius:12,border:"none",fontSize:15,fontWeight:700,cursor:"pointer",fontFamily:"Noto Sans KR, system-ui, sans-serif"};return(0,o.jsx)("main",{style:{minHeight:"100vh",padding:24,paddingBottom:40,fontFamily:"Noto Sans KR, system-ui, sans-serif",background:"linear-gradient(180deg, #F8FAFC 0%, #EEF2FF 100%)"},children:(0,o.jsxs)("div",{style:{maxWidth:400,margin:"0 auto"},children:[(0,o.jsxs)("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[(0,o.jsx)(i.default,{href:"/",style:{padding:"8px 14px",borderRadius:999,background:"#fff",boxShadow:"0 4px 12px rgba(15,23,42,0.1)",fontSize:13,fontWeight:600,color:"#111827",textDecoration:"none"},children:"← 홈으로"}),(0,o.jsx)("h1",{style:{fontSize:16,fontWeight:800,color:"#111827",margin:0},children:"예약하기"}),(0,o.jsx)("div",{style:{width:70}})]}),(0,o.jsxs)("div",{style:{...b,marginBottom:12},children:[(0,o.jsx)("div",{style:{fontSize:12,color:"#64748b",marginBottom:4},children:"매장"}),(0,o.jsx)("div",{style:{fontSize:18,fontWeight:800,color:"#111827"},children:f||"매장"})]}),1===g&&(0,o.jsxs)("div",{style:b,children:[(0,o.jsx)("div",{style:{fontSize:14,fontWeight:700,color:"#111827",marginBottom:12},children:"날짜 선택"}),(0,o.jsx)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:d.map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>{y(e.value),m(2)},style:{...S,background:p===e.value?"#2563eb":"#f1f5f9",color:p===e.value?"#fff":"#111827"},children:e.label},e.value))})]}),2===g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{...b,marginBottom:8},children:[(0,o.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:"선택한 날짜"}),(0,o.jsx)("div",{style:{fontSize:16,fontWeight:700,color:"#111827"},children:p})]}),(0,o.jsxs)("div",{style:b,children:[(0,o.jsx)("div",{style:{fontSize:14,fontWeight:700,color:"#111827",marginBottom:12},children:"시간 선택"}),(0,o.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:c.map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>{v(e),m(3)},style:{flex:"1 1 22%",minWidth:80,padding:"12px",borderRadius:12,border:"none",background:x===e?"#2563eb":"#f1f5f9",color:x===e?"#fff":"#111827",fontSize:14,fontWeight:600,cursor:"pointer",fontFamily:"Noto Sans KR, system-ui, sans-serif"},children:e},e))})]})]}),3===g&&(0,o.jsxs)("div",{style:b,children:[(0,o.jsx)("div",{style:{fontSize:14,fontWeight:700,color:"#111827",marginBottom:16},children:"예약 확인"}),(0,o.jsx)("div",{style:{fontSize:13,color:"#475569",marginBottom:8},children:(0,o.jsx)("strong",{children:f})}),(0,o.jsxs)("div",{style:{fontSize:13,color:"#475569",marginBottom:4},children:["날짜: ",p]}),(0,o.jsxs)("div",{style:{fontSize:13,color:"#475569",marginBottom:16},children:["시간: ",x]}),(0,o.jsx)("p",{style:{fontSize:12,color:"#94a3b8",marginBottom:16},children:"아래 완료 후 네이버 예약 페이지에서 실제 예약을 진행해 주세요."}),(0,o.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,o.jsx)("button",{type:"button",onClick:()=>m(2),style:{...S,background:"#f1f5f9",color:"#111827"},children:"시간 다시 선택"}),(0,o.jsx)("button",{type:"button",onClick:()=>{(0,l.K)("reserve_flow_complete",{store_id:u,name:f,date:p,time:x,page:"reserve"}),m(4)},style:{...S,background:"#2563eb",color:"#fff"},children:"완료"})]})]}),4===g&&(0,o.jsxs)("div",{style:b,children:[(0,o.jsx)("div",{style:{fontSize:18,fontWeight:800,color:"#111827",marginBottom:8},children:"예약 흐름을 완료했어요"}),(0,o.jsxs)("div",{style:{fontSize:13,color:"#64748b",marginBottom:20},children:[f," \xb7 ",p," ",x]}),(0,o.jsx)("button",{type:"button",onClick:()=>{(0,l.K)("reserve_naver_click",{store_id:u,name:f,page:"reserve"}),function(e){let t=a(e.name),n=a(e.naverPlaceId),o=a(e.naverPlaceUrl);if(o){let e=(o.includes("naver.me"),o.trim());window.open(e,"_blank","noopener,noreferrer");return}if(n){let e="https://m.place.naver.com/place/".concat(encodeURIComponent(n));window.open(e,"_blank","noopener,noreferrer");return}let r=encodeURIComponent(t||"");window.open("https://m.search.naver.com/search.naver?query=".concat(r),"_blank","noopener,noreferrer")}({name:f||"매장",naverPlaceId:h||null})},style:{...S,background:"#03C75A",color:"#fff",marginBottom:10},children:"네이버에서 예약하기"}),(0,o.jsx)(i.default,{href:"/",style:{...S,background:"#f1f5f9",color:"#111827",textAlign:"center",textDecoration:"none"},children:"홈으로 돌아가기"})]}),g>1&&g<4&&(0,o.jsx)("button",{type:"button",onClick:()=>m(e=>e-1),style:{marginTop:8,padding:"10px 16px",border:"none",background:"transparent",color:"#64748b",fontSize:13,cursor:"pointer",fontFamily:"Noto Sans KR, system-ui, sans-serif"},children:"← 이전"})]})})}},1695:function(e,t,n){"use strict";var o=n(1219);n.o(o,"usePathname")&&n.d(t,{usePathname:function(){return o.usePathname}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}}),n.o(o,"useSearchParams")&&n.d(t,{useSearchParams:function(){return o.useSearchParams}})}},function(e){e.O(0,[146,293,528,744],function(){return e(e.s=3885)}),_N_E=e.O()}]);