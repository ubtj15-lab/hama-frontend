(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8978:function(e,l,o){Promise.resolve().then(o.bind(o,4673))},4673:function(e,l,o){"use strict";o.r(l),o.d(l,{default:function(){return n}});var t=o(7573),a=o(8146),i=o(7653);function n(){let[e,l]=(0,i.useState)(null),[o,n]=(0,i.useState)(!0),[r,s]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=!1;return(async()=>{try{let o=await fetch("/api/admin/stats"),t=await o.json();if(!o.ok){e||s(t.error||"통계를 불러오지 못했어요.");return}e||l(t)}catch(l){e||s("통계를 불러오지 못했어요.")}finally{e||n(!1)}})(),()=>{e=!0}},[]);let c={padding:18,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px rgba(0,0,0,0.06)",border:"1px solid #e2e8f0"};return(0,t.jsxs)("main",{style:{maxWidth:560,margin:"0 auto",padding:24,fontFamily:"Noto Sans KR, system-ui, sans-serif",background:"#f1f5f9",minHeight:"100vh"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,flexWrap:"wrap",gap:12},children:[(0,t.jsx)("h1",{style:{margin:0,fontSize:20,fontWeight:800},children:"관리자 대시보드"}),(0,t.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)(a.default,{href:"/admin/stores",style:{fontSize:14,color:"#2563eb",textDecoration:"none",fontWeight:600},children:"매장\xb7매장주 연결"}),(0,t.jsx)(a.default,{href:"/admin/reservations",style:{fontSize:14,color:"#2563eb",textDecoration:"none"},children:"예약 목록"}),(0,t.jsx)("a",{href:"/partner",target:"_blank",rel:"noopener noreferrer",style:{fontSize:14,color:"#64748b",textDecoration:"none"},children:"매장주 대시보드"}),(0,t.jsx)(a.default,{href:"/admin/login",style:{fontSize:14,color:"#64748b",textDecoration:"none"},children:"로그인"})]})]}),r&&(0,t.jsx)("div",{style:{padding:12,borderRadius:12,marginBottom:16,background:"#fee2e2",color:"#b91c1c",fontSize:14},children:r}),o&&(0,t.jsx)("div",{style:{padding:24,textAlign:"center",color:"#64748b"},children:"통계 불러오는 중..."}),!o&&e&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,t.jsxs)("div",{style:c,children:[(0,t.jsx)("div",{style:{fontSize:12,color:"#64748b",marginBottom:4},children:"오늘 요약"}),(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"#0f172a",marginBottom:14},children:"오늘 0시(한국시간) 기준"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:[{label:"카드 열람",value:e.today.card_views,color:"#2563eb"},{label:"저장",value:e.today.saved_count,color:"#16a34a"},{label:"최근 조회",value:e.today.recent_views_count,color:"#7c3aed"},{label:"외부 클릭",value:e.today.total_clicks,color:"#dc2626"}].map(e=>(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[(0,t.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:e.label}),(0,t.jsx)("div",{style:{fontSize:22,fontWeight:800,color:e.color},children:e.value.toLocaleString()})]},e.label))}),(0,t.jsxs)("div",{style:{marginTop:14,paddingTop:12,borderTop:"1px solid #e2e8f0"},children:[(0,t.jsx)("div",{style:{fontSize:12,fontWeight:600,color:"#475569",marginBottom:8},children:"상세 클릭 (오늘)"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[{label:"네이버 링크",value:e.today.naver_clicks,color:"#16a34a"},{label:"카카오 링크",value:e.today.kakao_clicks,color:"#ca8a04"},{label:"길안내/예약 버튼",value:e.today.detail_actions,color:"#2563eb"},{label:"검색 추천 클릭",value:e.today.search_clicks,color:"#7c3aed"}].map(e=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13},children:[(0,t.jsx)("span",{style:{color:"#475569"},children:e.label}),(0,t.jsxs)("span",{style:{fontWeight:700,color:e.color},children:[e.value,"회"]})]},e.label))})]})]}),(0,t.jsxs)("div",{style:c,children:[(0,t.jsx)("div",{style:{fontSize:12,color:"#64748b",marginBottom:4},children:"전체 누적"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:[{label:"카드 열람",value:e.total.card_views,color:"#2563eb"},{label:"저장",value:e.total.saved_count,color:"#16a34a"},{label:"최근 조회",value:e.total.recent_views_count,color:"#7c3aed"},{label:"외부 클릭",value:e.total.total_clicks,color:"#dc2626"}].map(e=>(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[(0,t.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:e.label}),(0,t.jsx)("div",{style:{fontSize:22,fontWeight:800,color:e.color},children:e.value.toLocaleString()})]},e.label))}),(0,t.jsxs)("div",{style:{marginTop:14,paddingTop:12,borderTop:"1px solid #e2e8f0"},children:[(0,t.jsx)("div",{style:{fontSize:12,fontWeight:600,color:"#475569",marginBottom:8},children:"상세 클릭 (전체)"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[{label:"네이버 링크",value:e.total.naver_clicks,color:"#16a34a"},{label:"카카오 링크",value:e.total.kakao_clicks,color:"#ca8a04"},{label:"길안내/예약 버튼",value:e.total.detail_actions,color:"#2563eb"},{label:"검색 추천 클릭",value:e.total.search_clicks,color:"#7c3aed"}].map(e=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13},children:[(0,t.jsx)("span",{style:{color:"#475569"},children:e.label}),(0,t.jsxs)("span",{style:{fontWeight:700,color:e.color},children:[e.value,"회"]})]},e.label))})]})]})]})]})}}},function(e){e.O(0,[146,293,528,744],function(){return e(e.s=8978)}),_N_E=e.O()}]);