"use strict";(()=>{var e={};e.id=9291,e.ids=[9291],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5707:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var s={};r.r(s),r.d(s,{GET:()=>u});var o=r(3036),n=r(5736),a=r(5262),i=r(942);async function u(e){try{let t=new URL(e.url),r=t.searchParams.get("origin")||"",s=t.searchParams.get("destination")||"";if(!r||!s)return i.NextResponse.json({error:"origin,destination query required"},{status:400});let o=process.env.KAKAO_REST_API_KEY||process.env.NEXT_PUBLIC_KAKAO_REST_API_KEY||"";if(!o)return i.NextResponse.json({error:"KAKAO_REST_API_KEY missing"},{status:500});let n=`https://apis-navi.kakaomobility.com/v1/directions?origin=${encodeURIComponent(r)}&destination=${encodeURIComponent(s)}&priority=TIME`,a=await fetch(n,{headers:{Authorization:`KakaoAK ${o}`},cache:"no-store"});if(!a.ok){let e=await a.text();return i.NextResponse.json({error:"Kakao Mobility error",status:a.status,body:e},{status:500})}let u=await a.json(),p=u?.routes?.[0];if(!p)return i.NextResponse.json({path:[],summary:null},{status:200});let d=p.summary??null,c=[];for(let e of p.sections??[])for(let t of e.roads??[]){let e=t.vertexes;for(let t=0;t<e.length-1;t+=2){let r=e[t],s=e[t+1];c.push([s,r])}}return i.NextResponse.json({path:c,summary:d},{status:200})}catch(e){return i.NextResponse.json({error:e?.message??"unknown error"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/directions/route",pathname:"/api/directions",filename:"route",bundlePath:"app/api/directions/route"},resolvedPagePath:"C:\\Users\\ubtj1\\hama-frontend\\apps\\hama\\app\\api\\directions\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:l}=p,m="/api/directions/route";function h(){return(0,a.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4522,1746],()=>r(5707));module.exports=s})();