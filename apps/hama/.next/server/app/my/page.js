(()=>{var e={};e.id=2782,e.ids=[2782],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},9667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(931),r(9395),r(7824);var n=r(3282),i=r(5736),a=r(3906),s=r.n(a),o=r(6880),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["my",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,931)),"C:\\Users\\ubtj1\\hama-frontend\\apps\\hama\\app\\my\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6952))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9395)),"C:\\Users\\ubtj1\\hama-frontend\\apps\\hama\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7824,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6952))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\ubtj1\\hama-frontend\\apps\\hama\\app\\my\\page.tsx"],u="/my/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/my/page",pathname:"/my",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3204:(e,t,r)=>{Promise.resolve().then(r.bind(r,1567)),Promise.resolve().then(r.bind(r,9938))},8252:(e,t,r)=>{Promise.resolve().then(r.bind(r,7629))},9775:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4424,23)),Promise.resolve().then(r.t.bind(r,7752,23)),Promise.resolve().then(r.t.bind(r,5275,23)),Promise.resolve().then(r.t.bind(r,9842,23)),Promise.resolve().then(r.t.bind(r,1633,23)),Promise.resolve().then(r.t.bind(r,9224,23))},1567:(e,t,r)=>{"use strict";function n(){return null}r.d(t,{AuthSync:()=>n}),r(3677)},9990:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(3677),i=r(2500),a=r(6974);function s(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!1),o=(0,a.n)(),l=(0,n.useCallback)(async()=>{if(!(!o||o.startsWith("server"))){s(!0);try{let e=await fetch(`/api/recent?user_id=${encodeURIComponent(o)}&limit=20`),r=(await e.json()).stores??[];t(r.map(e=>(0,i.O)(e)))}catch{t([])}finally{s(!1)}}},[o]);return{recentCards:e,loading:r,recordView:(0,n.useCallback)(async e=>{if(!(!o||o.startsWith("server")))try{await fetch("/api/recent/record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:o,store_id:e})}),await l()}catch{}},[o,l]),refetch:l}}},7814:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(3677),i=r(2500),a=r(6974);function s(){let[e,t]=(0,n.useState)(new Set),[r,s]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1),d=(0,a.n)(),c=(0,n.useCallback)(async()=>{if(!(!d||d.startsWith("server"))){l(!0);try{let e=await fetch(`/api/saved?user_id=${encodeURIComponent(d)}`),r=await e.json();t(new Set(r.saved_ids??[])),s((r.stores??[]).map(e=>(0,i.O)(e)))}catch{t(new Set),s([])}finally{l(!1)}}},[d]),u=(0,n.useCallback)(async r=>{if(!d||d.startsWith("server"))return!1;let n=e.has(r);t(e=>{let t=new Set(e);return n?t.delete(r):t.add(r),t});try{let e=await fetch("/api/saved",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:d,store_id:r})}),i=await e.json();if(!i.ok)return t(e=>{let t=new Set(e);return n?t.add(r):t.delete(r),t}),n;return i.saved}catch{return t(e=>{let t=new Set(e);return n?t.add(r):t.delete(r),t}),n}},[d,e]),p=(0,n.useCallback)(t=>e.has(t),[e]);return{savedIds:e,savedCards:r,loading:o,toggleSaved:u,isSaved:p,refetch:c}}},4389:(e,t,r)=>{"use strict";function n(){return""}r.d(t,{Z:()=>n})},6974:(e,t,r)=>{"use strict";function n(){return"server"}r.d(t,{n:()=>n}),r(4389)},9938:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,UIOverlayProvider:()=>s});var n=r(3227),i=r(3677);let a=(0,i.createContext)(null);function s({children:e}){let[t,r]=(0,i.useState)(!1),s=(0,i.useMemo)(()=>({overlayOpen:t,setOverlayOpen:r}),[t]);return n.jsx(a.Provider,{value:s,children:e})}function o(){let e=(0,i.useContext)(a);if(!e)throw Error("useUIOverlay must be used within UIOverlayProvider");return e}},2500:(e,t,r)=>{"use strict";function n(e){let t=String(e??"").toLowerCase().trim();return"beauty"===t?"salon":"fd6"===t?"restaurant":"ce7"===t?"cafe":"bk9"===t?"salon":"at4"===t?"activity":t.includes("미용")||t.includes("헤어")||t.includes("이발")?"salon":t.includes("카페")||t.includes("커피")?"cafe":t.includes("식당")||t.includes("음식")||t.includes("레스토랑")||t.includes("맛집")?"restaurant":t.includes("액티비")||t.includes("활동")||t.includes("체험")||t.includes("공원")?"activity":"restaurant"===t||"cafe"===t||"salon"===t||"activity"===t?t:"restaurant"}function i(e){let t=String(e?.id??e?.store_id??e?.storeId??"").trim(),r=String(e?.name??e?.store_name??e?.storeName??"").trim(),i=n(e?.category??e?.categoryNorm??e?.category_norm??e?.tab??e?.type??e?.kind),a=String(e?.categoryLabel??e?.category_label??function(e){let t=n(e);return"restaurant"===t?"식당":"cafe"===t?"카페":"salon"===t?"미용실":"액티비티"}(i)),s=Number(e?.distanceKm??e?.distance_km??("number"==typeof e?.distance?e.distance/1e3:void 0)),o=Number.isFinite(s)?s:0,l=String(e?.cover_image_url??e?.imageUrl??e?.image_url??e?.image??e?.thumbnail??e?.thumb??""),d="number"==typeof e?.lat?e.lat:"number"==typeof e?.latitude?e.latitude:e?.lat??e?.latitude??null,c="number"==typeof e?.lng?e.lng:"number"==typeof e?.longitude?e.longitude:e?.lng??e?.longitude??null;return{id:t,name:r,category:i,categoryLabel:a,distanceKm:o,moodText:String(e?.moodText??e?.mood_text??e?.mood??""),imageUrl:l,quickQuery:String(e?.quickQuery??e?.quick_query??r),lat:d,lng:c,mood:e?.mood??null,withKids:e?.withKids??e?.with_kids??null,forWork:e?.forWork??e?.for_work??null,priceLevel:e?.priceLevel??e?.price_level??null,tags:e?.tags??null}}r.d(t,{O:()=>i})},7629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(3227);r(3677);var i=r(9101),a=r(1043),s=r(7814),o=r(9990);function l(e){return e.imageUrl??e.image??e.image_url??"/images/category/restaurant.jpg"}function d(){let e=(0,a.useRouter)(),{savedCards:t,loading:r,toggleSaved:d,isSaved:c,refetch:u}=(0,s.F)(),{recentCards:p,loading:f,recordView:h,refetch:m}=(0,o.X)(),g=async t=>{await h(t.id),e.push(`/?open=${encodeURIComponent(t.id)}`)};return n.jsx("main",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #F8FAFC 0%, #EEF2FF 100%)",fontFamily:"Noto Sans KR, system-ui, sans-serif"},children:(0,n.jsxs)("div",{style:{maxWidth:430,margin:"0 auto",padding:"24px 16px 40px"},children:[(0,n.jsxs)("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[n.jsx("button",{type:"button",onClick:()=>e.back(),style:{border:"none",borderRadius:999,padding:"8px 14px",background:"#ffffff",boxShadow:"0 4px 12px rgba(15,23,42,0.1)",cursor:"pointer",fontSize:13,fontWeight:600},children:"← 뒤로"}),n.jsx("h1",{style:{fontSize:18,fontWeight:800,color:"#111827",margin:0},children:"마이"}),n.jsx("div",{style:{width:56}})]}),(0,n.jsxs)("section",{style:{marginBottom:28},children:[n.jsx("h2",{style:{fontSize:15,fontWeight:700,color:"#64748b",marginBottom:12,display:"flex",alignItems:"center",gap:6},children:"저장한 카드"}),r?n.jsx("div",{style:{padding:24,textAlign:"center",color:"#94a3b8",fontSize:13},children:"불러오는 중..."}):0===t.length?(0,n.jsxs)("div",{style:{padding:24,background:"#ffffff",borderRadius:16,textAlign:"center",color:"#94a3b8",fontSize:13,boxShadow:"0 4px 12px rgba(15,23,42,0.08)"},children:["저장한 카드가 없어요.",n.jsx("br",{}),"홈이나 검색에서 ♡를 눌러 저장해 보세요!"]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:t.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#ffffff",borderRadius:16,overflow:"hidden",boxShadow:"0 4px 12px rgba(15,23,42,0.08)",cursor:"pointer"},onClick:()=>g(e),children:[n.jsx("div",{style:{width:72,height:72,flexShrink:0,position:"relative",background:"#111827"},children:n.jsx(i.default,{src:l(e),alt:e.name??"",fill:!0,style:{objectFit:"cover"}})}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0,padding:"12px 0"},children:[n.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#111827",marginBottom:4},children:e.name}),n.jsx("div",{style:{fontSize:12,color:"#64748b"},children:e.categoryLabel??e.category??""})]}),n.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),d(e.id),u()},style:{marginRight:12,border:"none",background:"none",cursor:"pointer",fontSize:20,color:c(e.id)?"#f43f5e":"#cbd5e1"},children:c(e.id)?"♥":"♡"})]},e.id))})]}),(0,n.jsxs)("section",{children:[n.jsx("h2",{style:{fontSize:15,fontWeight:700,color:"#64748b",marginBottom:12},children:"최근 본 카드"}),f?n.jsx("div",{style:{padding:24,textAlign:"center",color:"#94a3b8",fontSize:13},children:"불러오는 중..."}):0===p.length?(0,n.jsxs)("div",{style:{padding:24,background:"#ffffff",borderRadius:16,textAlign:"center",color:"#94a3b8",fontSize:13,boxShadow:"0 4px 12px rgba(15,23,42,0.08)"},children:["최근 본 카드가 없어요.",n.jsx("br",{}),"홈이나 검색에서 카드를 눌러보세요!"]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:p.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#ffffff",borderRadius:16,overflow:"hidden",boxShadow:"0 4px 12px rgba(15,23,42,0.08)",cursor:"pointer"},onClick:()=>g(e),children:[n.jsx("div",{style:{width:72,height:72,flexShrink:0,position:"relative",background:"#111827"},children:n.jsx(i.default,{src:l(e),alt:e.name??"",fill:!0,style:{objectFit:"cover"}})}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0,padding:"12px 12px 12px 0"},children:[n.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#111827",marginBottom:4},children:e.name}),n.jsx("div",{style:{fontSize:12,color:"#64748b"},children:e.categoryLabel??e.category??""})]}),n.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),d(e.id),u(),m()},style:{marginRight:12,border:"none",background:"none",cursor:"pointer",fontSize:20,color:c(e.id)?"#f43f5e":"#cbd5e1"},children:c(e.id)?"♥":"♡"})]},e.id))})]})]})})}},7701:(e,t,r)=>{"use strict";e.exports=r(8998).vendored.contexts.RouterContext},9395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>o});var n=r(9013);r(1);var i=r(3189);let a=(0,i.createProxy)(String.raw`C:\Users\ubtj1\hama-frontend\apps\hama\app\_components\AuthSync.tsx#AuthSync`),s=(0,i.createProxy)(String.raw`C:\Users\ubtj1\hama-frontend\apps\hama\app\_providers\UIOverlayProvider.tsx#UIOverlayProvider`);(0,i.createProxy)(String.raw`C:\Users\ubtj1\hama-frontend\apps\hama\app\_providers\UIOverlayProvider.tsx#useUIOverlay`);let o={title:"HAMA",description:"하마 - 지역 기반 추천 서비스"};function l({children:e}){return n.jsx("html",{lang:"ko",children:(0,n.jsxs)("body",{style:{margin:0},children:[n.jsx(a,{}),n.jsx(s,{children:e})]})})}},931:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(3189).createProxy)(String.raw`C:\Users\ubtj1\hama-frontend\apps\hama\app\my\page.tsx#default`)},6952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(7201);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},1:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4522,679,7201,2181],()=>r(9667));module.exports=n})();